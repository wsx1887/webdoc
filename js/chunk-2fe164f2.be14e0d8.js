(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fe164f2"],{"266e":function(t,s,i){},"2c89":function(t,s,i){"use strict";i.r(s);var c=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"cart"},[t._m(0),i("div",{staticClass:"cart-content"},[t._l(t.cartList,function(s,c){return i("div",{key:c,staticClass:"cart-content-main"},[i("div",{staticClass:"cart-info"},[i("img",{attrs:{src:t.productDictList[s.id].image,alt:"商品图"}}),i("span",[t._v(t._s(t.productDictList[s.id].name))])]),i("div",{staticClass:"cart-price"},[t._v("¥ "+t._s(t.productDictList[s.id].cost))]),i("div",{staticClass:"cart-count"},[i("span",{staticClass:"cart-control-minus",on:{click:function(s){return t.handleCount(c,-1)}}},[t._v("-")]),t._v("\n        "+t._s(s.count)+"\n        "),i("span",{staticClass:"cart-control-add",on:{click:function(s){return t.handleCount(c,1)}}},[t._v("+")])]),i("div",{staticClass:"cart-cost"},[t._v("¥ "+t._s(t.productDictList[s.id].cost*s.count))]),i("div",{staticClass:"cart-delete"},[i("span",{staticClass:"cart-control-delete",on:{click:function(s){return t.handleDelete(c)}}},[t._v("删除")])])])}),t.cartList.length?t._e():i("div",{staticClass:"cart-empty"},[t._v("购物车为空")])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.cartList.length,expression:"cartList.length"}],staticClass:"cart-promotion"},[i("span",[t._v("使用优惠码：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.promotionCode,expression:"promotionCode"}],attrs:{type:"text"},domProps:{value:t.promotionCode},on:{input:function(s){s.target.composing||(t.promotionCode=s.target.value)}}}),i("span",{staticClass:"cart-control-promotion",on:{click:t.handleCheckCode}},[t._v("验证")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.cartList.length,expression:"cartList.length"}],staticClass:"cart-footer"},[i("div",{staticClass:"cart-footer-desc"},[t._v("\n      共计\n      "),i("span",[t._v(t._s(t.countAll))]),t._v(" 件商品\n    ")]),i("div",{staticClass:"cart-footer-desc"},[t._v("\n      应付总额\n      "),i("span",[t._v("¥ "+t._s(t.costAll-t.promotion))]),i("br"),t.promotion?[t._v("\n        （优惠\n        "),i("span",[t._v("¥ "+t._s(t.promotion))]),t._v("）\n      ")]:t._e()],2),i("div",{staticClass:"cart-footer-desc"},[i("div",{staticClass:"cart-control-order",on:{click:t.handleOrder}},[t._v("现在结算")])])])])},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"cart-header"},[i("div",{staticClass:"cart-header-title"},[t._v("购物清单")]),i("div",{staticClass:"cart-header-main"},[i("div",{staticClass:"cart-info"},[t._v("商品信息")]),i("div",{staticClass:"cart-price"},[t._v("单价")]),i("div",{staticClass:"cart-count"},[t._v("数量")]),i("div",{staticClass:"cart-cost"},[t._v("小计")]),i("div",{staticClass:"cart-delete"},[t._v("删除")])])])}],o=(i("ac6a"),{data:function(){return{promotionCode:"",promotion:0}},computed:{cartList:function(){return this.$store.state.cartList},productDictList:function(){var t={};return this.$store.state.productList.forEach(function(s){t[s.id]=s}),t},countAll:function(){var t=0;return this.cartList.forEach(function(s){t+=s.count}),t},costAll:function(){var t=this,s=0;return this.cartList.forEach(function(i){s+=t.productDictList[i.id].cost*i.count}),s}},methods:{handleCount:function(t,s){s<0&&1===this.cartList[t].count||this.$store.commit("editCartCount",{id:this.cartList[t].id,count:s})},handleDelete:function(t){this.$store.commit("deleteCart",this.cartList[t].id)},handleCheckCode:function(){""!==this.promotionCode?"Vue.js"!==this.promotionCode?window.alert("优惠码验证失败"):this.promotion=500:window.alert("请输入优惠码")},handleOrder:function(){this.$store.dispatch("buy").then(function(){window.alert("购买成功")})}}}),n=o,e=(i("f3f1"),i("2877")),r=Object(e["a"])(n,c,a,!1,null,"5189c79b",null);s["default"]=r.exports},f3f1:function(t,s,i){"use strict";var c=i("266e"),a=i.n(c);a.a}}]);
//# sourceMappingURL=chunk-2fe164f2.be14e0d8.js.map